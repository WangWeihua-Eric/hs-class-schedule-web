<view>
    <view class="banner">
        <swiper class="banner-swiper" indicator-dots="{{indicatorDots}}" interval="5000" autoplay="true">
            <swiper-item>
                <image class="banner-img" src="../../images/banner.png">
                    <view class="banner-des">
                        <image class="banner-des-img" src="../../images/banner-des.png"></image>
                        <view class="banner-time">{{scheduleDay}}</view>
                    </view>
                </image>
            </swiper-item>
            <swiper-item wx:for="{{bannerList}}" wx:for-index="index" wx:for-item="item" wx:key="index">
                <image class="banner-img" src="{{item.imgUrl}}"></image>
            </swiper-item>
        </swiper>
    </view>
    <view>
        <van-index-bar
                scroll-top="{{ scrollTop }}"
                index-list="{{ indexList }}"
        >
            <view wx:for="{{schedule}}" wx:for-index="index" wx:for-item="item" wx:key="index">
                <van-index-anchor use-slot="true">
                    <view class="cell-header">
                        <view class="cell-header-item">
                            <text class="cell-title">{{item.group.weekday}}</text>
                            <text class="cell-sub-title">{{item.group.date}}</text>
                        </view>
                    </view>
                </van-index-anchor>
                <view class="cell">
                    <van-cell wx:for="{{item.courses}}" wx:for-index="coursesIndex" wx:for-item="coursesItem"
                              wx:key="coursesIndex">
                        <view class="cell-item"
                              style="border-bottom : {{ coursesIndex < item.courses.length - 1 ? '1rpx solid #C4B5B5' : ''}}; margin-bottom: {{ coursesIndex === item.courses.length - 1 ? index === schedule.length - 1 ? '160rpx' : '' : '' }}">
                            <view>
                                <view class="item-tag-time">
                                    <view class="tag" style="background-color: {{coursesItem.category.color}}">
                                        {{coursesItem.category.name}}
                                    </view>
                                    <view class="item-time">{{coursesItem.time}}</view>
                                </view>
                                <view class="item-title">{{coursesItem.title}}</view>
                                <view class="item-teacher">{{coursesItem.lecturer.name + ' | ' +
                                    coursesItem.lecturer.titles}}
                                </view>
                            </view>
                            <view class="cell-item-right">
                                <view class="booking-btn" bindtap="onBooking" data-value="{{coursesItem}}">预约</view>
                            </view>
                        </view>
                    </van-cell>
                </view>
            </view>
        </van-index-bar>
    </view>
    <view wx:if="{{showShareBtn}}" class="share-info">
        <button class="share-btn" open-type='share'>
            <image class="wxlogo-img" src="../../images/wxlogo.png"></image>
            <view class="share-text">分享给好友</view>
        </button>
    </view>
    <van-dialog id="van-dialog"/>
    <van-overlay show="{{ show }}" bind:click="onClickHide">
        <view class="wrapper">
            <view class="block" catch:tap="noop" >
                <image class="aways" src="../../images/aways.png"></image>
            </view>
        </view>
    </van-overlay>
    <view class="guide" wx:if="{{guide}}">
        <image class="guide-img" src="../../images/guide.png">
            <view class="guide-des">
                <view class="guide-title">
                    <view class="guide-text">点击</view>
                    <view>
                        <image class="point" src="../../images/point.png"></image>
                    </view>
                </view>
                <view class="guide-text">“添加到我的小程序”</view>
            </view>
        </image>
    </view>
</view>