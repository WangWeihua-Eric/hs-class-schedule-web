<view>
    <view wx:if="{{scrollBtnShow && scrollTop > 168}}" class="scroll-btn">
        <view>
            <button class="scroll-share-btn" open-type='share'>
                <view class="scroll-share-text">分享好友</view>
            </button>
        </view>
        <view>
            <button class="scroll-join-btn" bindtap="toWxLink">
                <view class="scroll-join-text">加入红松</view>
            </button>
        </view>
    </view>
    <view class="banner">
        <swiper class="banner-swiper" indicator-dots="{{indicatorDots}}" interval="5000" autoplay="true">
            <swiper-item>
                <image class="banner-img" src="../../images/banner.png">
                    <view class="banner-des">
                        <image class="banner-des-img" src="../../images/banner-des.png"></image>
                        <view class="banner-time">{{scheduleDay}}</view>
                    </view>
                </image>
            </swiper-item>
            <swiper-item wx:for="{{bannerList}}" wx:for-index="index" wx:for-item="item" wx:key="index">
                <image class="banner-img" src="{{item.imgUrl}}"></image>
            </swiper-item>
        </swiper>
    </view>
    <view class="tip-btn-info">
        <view>
            <button class="tip-share-btn" open-type='share'>
                <image class="wxlogo-img" src="../../images/wxlogo-green.png"></image>
                <view class="tip-share-text">分享给好友</view>
            </button>
        </view>
        <view>
            <button class="tip-join-btn" bindtap="toWxLink">
                <image class="wxlogo-img" src="../../images/join-red.png"></image>
                <view class="tip-join-text">加入红松</view>
            </button>
        </view>
    </view>
    <view>
        <van-index-bar
                scroll-top="{{ scrollTop }}"
                index-list="{{ indexList }}"
        >
            <view wx:for="{{schedule}}" wx:for-index="index" wx:for-item="item" wx:key="index">
                <van-index-anchor use-slot="true">
                    <view class="cell-header">
                        <view class="cell-header-item">
                            <text class="cell-title">{{item.group.weekday}}</text>
                            <text class="cell-sub-title">{{item.group.date}}</text>
                        </view>
                    </view>
                </van-index-anchor>
                <view class="cell">
                    <van-cell wx:for="{{item.courses}}" wx:for-index="coursesIndex" wx:for-item="coursesItem"
                            wx:key="coursesIndex">
                        <view class="cell-item"
                                style="border-bottom : {{ coursesIndex < item.courses.length - 1 ? '1rpx solid #C4B5B5' : ''}}; margin-bottom: {{ coursesIndex === item.courses.length - 1 ? index === schedule.length - 1 ? '0rpx' : '' : '' }}">
                            <view>
                                <view class="item-tag-time">
                                    <view class="item-time">{{coursesItem.time}}</view>
                                </view>
                                <view class="item-middle">
                                    <view class="tag" style="background-color: {{coursesItem.category.color}}">{{coursesItem.category.name}}</view>
                                    <view class="item-title">{{coursesItem.title}}</view>
                                </view>
                                <view class="item-teacher">{{coursesItem.lecturer.name + ' | ' +
                                    coursesItem.lecturer.titles}}
                                </view>
                            </view>
                            <view class="cell-item-right">
                                <button wx:if="{{coursesItem.isEnd || coursesItem.booked === 2}}" class="look-btn"
                                        open-type="contact" show-message-card="true" session-from="{{sessionFrom + '&code=' + coursesItem.code}}"
                                        send-message-img="{{serviceImgUrl}}">观看</button>
                                <view wx:elif="{{coursesItem.booked === 0}}" class="booking-btn" bindtap="onBooking"
                                        data-value="{{coursesItem}}">预约</view>
                                <view wx:else class="booking-booked-btn">已预约</view>
                            </view>
                        </view>
                    </van-cell>
                </view>
            </view>
        </van-index-bar>
    </view>
    <van-overlay show="{{ show }}" bind:click="onClickHide">
        <view class="wrapper">
            <view class="block" catch:tap="noop">
                <image class="aways" src="../../images/aways.png"></image>
            </view>
        </view>
    </van-overlay>
    <view hidden="{{!officialAccountShow || officialAccountError}}" class="official-account-info">
        <van-icon hidden="{{!officialAccountShow || officialAccountError}}" class="onCloseOfficialAccount" name="close"
                bindtap="onCloseOfficialAccount"/>
        <official-account hidden="{{!officialAccountShow || officialAccountError}}" bindload="officialAccountLoad"
                binderror="officialAccountError"></official-account>
    </view>


    <van-action-sheet show="{{ officialAccountShow && officialAccountError }}" title="红松学堂，长辈们的直播课堂！" bind:close="onCloseOfficialAccount">
        <view class="tip-content">
            <view class="tip-item">
                <view class="tip-item-content">了解课程和老师介绍</view>
            </view>

            <view class="tip-item">
                <view class="tip-item-content">查看课程视频回看</view>
            </view>

            <view class="tip-item">
                <view class="tip-item-content">参与更多精彩活动赢奖励哦！</view>
            </view>

            <view class="tip-qrcode-contnet">
                <view class="tip-qrcode-title">关注红松学堂公众号加入学习</view>
                <view class="qrcode-sub-content">
                    <view class="qrcode-contnet">
                        <image class="qrcode" src="../../images/qrcode.png"></image>
                        <view class="qrcode-desc">截屏扫描二维码加入红松学堂</view>
                    </view>
                </view>
            </view>
        </view>
    </van-action-sheet>
</view>